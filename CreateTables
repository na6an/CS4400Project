# Create Table Statements

CREATE TABLE USER
	(GtID 		VARCHAR(15)	NOT NULL,
	Password	VARCHAR(10)	NOT NULL,
	Name 		VARCHAR(30)	NOT NULL,
	Usertype	INT		NOT NULL	CHECK (Usertype>0 AND Usertype<4),
	PRIMARY KEY(GtID) );
 
CREATE TABLE JOIN ASSOCIATION
	(GtID 		VARCHAR(15)	NOT NULL,
	Position 	INT		NOT NULL	CHECK (Position>0 AND Position<5),
	Assoc ID	VARCHAR(15)	NOT NULL,
	PRIMARY KEY(GtID, Position, Assoc ID),
	FOREIGN KEY(GtID) REFERENCES USER(GtID),
	FOREIGN KEY(Assoc ID) REFERENCES GT STUDENT ASSOCIATION(Assoc ID) );

CREATE TABLE GT STUDENT ASSOCIATION
	(Assoc ID 	VARCHAR(15)	NOT NULL,
	Name 		VARCHAR(20)	NOT NULL,
	Dues 		INT,
	Advisor ID 	VARCHAR(15)	NOT NULL,
	Description	VARCHAR(50),
	PRIMARY KEY(Assoc ID),
	FOREIGN KEY(Advisor ID) REFERENCES USER(GtID) );

CREATE TABLE BUILDING
	(Building Number	INT		NOT NULL,
	Building Name		VARCHAR(15),
	PRIMARY KEY(Building Number) );

CREATE TABLE ROOM
	(Building Number	INT		NOT NULL,
	Room number		INT		NOT NULL,
	PRIMARY KEY(Building Number, Room number),
	FOREIGN KEY(Building Number) REFERENCES BUILDING(Building Number) );

CREATE TABLE MEETING
	(Building Number	INT		NOT NULL,
	Room number		INT		NOT NULL,
	SlotID 			INT		NOT NULL,
	Year_Month_Day	DATE		NOT NULL,
	Assoc ID		VARCHAR(15)	NOT NULL,
	PRIMARY KEY(Building Number, Room number, SlotID, Year_Month_Day), 
	FOREIGN KEY(Building Number) REFERENCES BUILDING(Building Number),
	FOREIGN KEY(Room number) REFERENCES ROOM(Room number), 
	FOREIGN KEY(SlotID) REFERENCES TIME SLOT(SlotID),
	FOREIGN KEY(Assoc ID) REFERENCES GT STUDENT ASSOCIATION(Assoc ID) );

CREATE TABLE TIME SLOT
	(SlotID 		INT	NOT NULL CHECK (SlotID>0 AND SlotID<19),
	From 		TIME	NOT NULL,
	To		TIME	NOT NULL,
	PRIMARY KEY(SlotID) );
